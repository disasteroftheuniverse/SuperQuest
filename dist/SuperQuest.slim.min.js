/*! For license information please see SuperQuest.slim.min.js.LICENSE */
!function(t){var e={};function i(u){if(e[u])return e[u].exports;var n=e[u]={i:u,l:!1,exports:{}};return t[u].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,u){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:u})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(u,n,function(e){return t[e]}.bind(null,n));return u},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11)}([function(t,e,i){var u=i(6),n=i(24),s=i(28),r=i(7),o=i(35);(t.exports=function(t,e){var i,n,a,l,h;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],u(t)?(i=o.call(t,"c"),n=o.call(t,"e"),a=o.call(t,"w")):(i=a=!0,n=!1),h={value:e,configurable:i,enumerable:n,writable:a},l?s(r(l),h):h}).gs=function(t,e,i){var a,l,h,c;return"string"!=typeof t?(h=i,i=e,e=t,t=null):h=arguments[3],u(e)?n(e)?u(i)?n(i)||(h=i,i=void 0):i=void 0:(h=e,e=i=void 0):e=void 0,u(t)?(a=o.call(t,"c"),l=o.call(t,"e")):(a=!0,l=!1),c={get:e,set:i,configurable:a,enumerable:l},h?s(r(h),c):c}},function(t,e,i){t.exports=i(21)()?globalThis:i(22)},function(t,e,i){var u=i(34)();t.exports=function(t){return t!==u&&null!==t}},function(t,e,i){var u=i(2);t.exports=function(t){if(!u(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,i){var u=Array.prototype.forEach,n=Object.create;t.exports=function(t){var e=n(null);return u.call(arguments,(function(t){e[t]=!0})),e}},function(t,e,i){t.exports=i(17)()?Array.from:i(18)},function(t,e,i){t.exports=function(t){return null!=t}},function(t,e,i){var u=i(2),n=Array.prototype.forEach,s=Object.create,r=function(t,e){var i;for(i in t)e[i]=t[i]};t.exports=function(t){var e=s(null);return n.call(arguments,(function(t){u(t)&&r(Object(t),e)})),e}},function(t,e,i){var u=i(38);t.exports=function(t){if(!u(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,i){t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,i){var u=i(5),n=i(4);t.exports=n.apply(null,u("\n\r\u2028\u2029"))},function(t,e,i){i(12),i(13),i(56),i(57),i(58),i(59),i(60)},function(t,e){AFRAME.utils.entity.onModel=function(t,e,i){i&&(e=e.bind(i));var u=t.getObject3D("mesh"),n=function(i){i&&i.detail&&"mesh"===i.detail.type&&(e(),t.removeEventListener("object3dset",n))};u?e():t.addEventListener("object3dset",n)},AFRAME.utils.entity.onObject3DAdded=function(t,e,i,u,n){u&&(i=i.bind(u));var s=t.getObject3D(e),r=function(u){u&&u.detail&&u.detail.type===e&&(n?i(n):i(),t.removeEventListener("object3dset",r))};s?n?i(n):i():t.addEventListener("object3dset",r)},AFRAME.utils.entity.onLoad=function(t,e,i){i&&(e=e.bind(i));var u=function(){e(),t.removeEventListener("loaded",u)};t.hasLoaded?e():t.addEventListener("loaded",u,{once:!0})},AFRAME.utils.entity.onSceneLoaded=function(t,e,i){i&&(e=e.bind(i));var u=function(){e(),t.sceneEl.removeEventListener("loaded",u)};t.sceneEl.hasLoaded?e():t.sceneEl.addEventListener("loaded",u,{once:!0})},AFRAME.utils.device.hasControllers=function(){if(navigator){if(console.log("has navigator!"),navigator.getGamepads){console.log("has gamepad support!");var t=navigator.getGamepads(),e=0;return t?(Object.values(t).forEach(t=>{t&&e++}),e>0||null):null}return null}return null},AFRAME.utils.randomColor=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},AFRAME.utils.makeId=function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=i.length,n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*u));return e},AFRAME.utils.__helper__pool={__setDirection:{__axis:new THREE.Vector3,__quaternion:new THREE.Quaternion}},AFRAME.utils.math={normalize:function(t,e,i){return(t-i)/(e-i)},setDirection:function(t,e){if(e=e||AFRAME.utils.__helper__pool.__setDirection.__quaternion,t.y>.99999)e.set(0,0,0,1);else if(t.y<-.99999)e.set(1,0,0,0);else{AFRAME.utils.__helper__pool.__setDirection.__axis.set(t.z,0,-t.x).normalize();var i=Math.acos(t.y);e.setFromAxisAngle(AFRAME.utils.__helper__pool.__setDirection.__axis,i)}return e},vectorRadToDeg:function(t){return t.set(THREE.Math.radToDeg(t.x),THREE.Math.radToDeg(t.y),THREE.Math.radToDeg(t.z)),t},vectorRadToDegCopy:function(t){return t.x=THREE.Math.radToDeg(t.x),t.y=THREE.Math.radToDeg(t.y),t.z=THREE.Math.radToDeg(t.z),t},vectorDegToRad:function(t){return t.set(THREE.Math.degToRad(t.x),THREE.Math.degToRad(t.y),THREE.Math.degToRad(t.z)),t}},AFRAME.utils.getWhiteEnvironment=function(){if(!AFRAME.utils.whiteEnvironment){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAMAAABFaP0WAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF/v7+////G/xoHAAAABBJREFUeNpiYGRkYGQECDAAABIABaUzXMUAAAAASUVORK5CYII=";AFRAME.utils.whiteEnvironment=(new THREE.CubeTextureLoader).load([t,t,t,t,t,t])}return AFRAME.utils.whiteEnvironment},AFRAME.utils.axishelper=function(){var t=new THREE.Vector3(0,0,0),e=new THREE.Group,i=new THREE.Geometry,u=new THREE.Geometry,n=new THREE.Geometry;i.vertices.push(t,new THREE.Vector3(0,1,0)),u.vertices.push(t,new THREE.Vector3(1,0,0)),n.vertices.push(t,new THREE.Vector3(0,0,1));var s=new THREE.Line(i,new THREE.LineBasicMaterial({color:"green"})),r=new THREE.Line(u,new THREE.LineBasicMaterial({color:"red"})),o=new THREE.Line(n,new THREE.LineBasicMaterial({color:"blue"}));return e.add(s),e.add(r),e.add(o),e},AFRAME.utils.shaders={},AFRAME.utils.getGradientShader=function(t,e,i){var u,n;AFRAME.utils.shaders[t]||(u=e&&!e.isColor?new THREE.Color(e):(new THREE.Color).copy(e),n=i&&!i.isColor?new THREE.Color(i):(new THREE.Color).copy(i),AFRAME.utils.shaders[t]=new THREE.RawShaderMaterial({fragmentShader:"precision mediump float;\n\nvarying vec2 vUv;\n\nuniform vec3 color1;\nuniform vec3 color2;\n\nvoid main( void ) {\n    vec3 mixCol = mix( color2, color1, vUv.y );\n\tgl_FragColor = vec4(mixCol, 1.);\n}",vertexShader:"precision highp float;\r\nprecision highp int;\r\n\r\nuniform mat4 modelMatrix;\r\nuniform mat4 modelViewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform mat4 viewMatrix;\r\nuniform mat3 normalMatrix;\r\n\r\nattribute vec3 position;\r\nattribute vec3 normal;\r\nattribute vec2 uv;\r\nattribute vec2 uv2;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n}",uniforms:{color1:{type:"c",glslType:"vec3",value:{r:u.r,g:u.g,b:u.b},description:"",textureId:null,runtime:{texture:null}},color2:{type:"c",glslType:"vec3",value:{r:n.r,g:n.g,b:n.b},description:"",textureId:null,runtime:{texture:null}}}}));return AFRAME.utils.shaders[t]}},function(t,e,i){var u=i(14);t.exports={rounded:AFRAME.registerComponent("rounded",{dependencies:["position","rotation"],schema:{color:{type:"color",default:"white"},radius:{type:"number",default:.1},width:{type:"number",default:1},height:{type:"number",default:1}},init:function(){var t=new THREE.Shape;this.savedColors=[];let e=this.el.components.material;t.lineTo(0,this.data.height/2),t.quadraticCurveTo(0,this.data.height/2+this.data.radius,this.data.radius,this.data.height/2+this.data.radius),t.lineTo(this.data.width+this.data.radius,this.data.height/2+this.data.radius),t.quadraticCurveTo(this.data.width+this.data.radius+this.data.radius,this.data.height/2+this.data.radius,this.data.width+this.data.radius+this.data.radius,this.data.height/2),t.lineTo(this.data.width+this.data.radius+this.data.radius,this.data.height/2*-1),t.quadraticCurveTo(this.data.width+this.data.radius+this.data.radius,-1*(this.data.height/2+this.data.radius),this.data.width+this.data.radius,-1*(this.data.height/2+this.data.radius)),t.lineTo(this.data.radius,-1*(this.data.height/2+this.data.radius)),t.quadraticCurveTo(0,-1*(this.data.height/2+this.data.radius),0,this.data.height/2*-1),t.lineTo(0,0),t.closePath();var i=t.getPoints();i.forEach.bind(this),i.forEach(t=>{t.add({x:-1*(this.data.width/2+this.data.radius),y:0})});var u=new THREE.ShapeGeometry(new THREE.Shape(i));u.verticesNeedUpdate=!0,u.mergeVertices(),u.verticesNeedUpdate=!0,e||(e={},e.material=new THREE.MeshBasicMaterial({color:new THREE.Color(this.data.color).convertSRGBToLinear()}));var n=new THREE.Mesh(u,e.material);this.resize=function(t,e){var i;for(i=1;i<14;i++)n.geometry.vertices[i].y=n.geometry.vertices[i].y+e/2,n.geometry.vertices[i].x=n.geometry.vertices[i].x-t/2;for(i=14;i<27;i++)n.geometry.vertices[i].y=n.geometry.vertices[i].y+e/2,n.geometry.vertices[i].x=n.geometry.vertices[i].x+t/2;for(i=27;i<40;i++)n.geometry.vertices[i].y=n.geometry.vertices[i].y-e/2,n.geometry.vertices[i].x=n.geometry.vertices[i].x+t/2;for(i=40;i<53;i++)n.geometry.vertices[i].y=n.geometry.vertices[i].y-e/2,n.geometry.vertices[i].x=n.geometry.vertices[i].x-t/2;n.geometry.vertices[0].y=n.geometry.vertices[0].y-e/2,n.geometry.vertices[0].x=n.geometry.vertices[0].x-t/2,n.geometry.verticesNeedUpdate=!0},this.el.setObject3D("mesh",n)},update:function(t){t.width&&t.height&&t.color&&(t.width===this.data.width&&t.height===this.data.height||this.resize(this.data.width-t.width,this.data.height-t.height),t.color!==this.data.color&&(this.el.object3DMap.mesh.material.color=new THREE.Color(this.data.color).convertSRGBToLinear(),this.el.object3DMap.mesh.material.needsUpdate=!0))}}),clamp:AFRAME.registerComponent("clamp",{dependencies:["position"],schema:{min:{type:"vec3",default:{x:-2,y:-1,z:-1}},max:{type:"vec3",default:{x:1,y:1,z:1}}},init:function(){this.tick=AFRAME.utils.throttleTick(this.tick,10,this);const t=this.el;AFRAME.utils.entity.onModel(t,(function(){t.addState("regulated")}),this)},tick:function(){this.el.is("regulated")&&this.el.object3D.position.clamp(this.data.min,this.data.max)}}),log_object3D:AFRAME.registerComponent("log-object3d",{init:function(){AFRAME.utils.entity.onModel(this.el,this.log,this)},log:function(){console.log(this.el.object3D)}}),billboard:AFRAME.registerComponent("billboard",{dependencies:["rotation"],schema:{src:{type:"selector",default:"#vr-camera"}},init:function(){this.tick=AFRAME.utils.throttleTick(this.tick,20,this),this.lookAtTarget=new THREE.Vector3},tick:function(){this.el.object3DMap&&(this.data.src.object3D.getWorldPosition(this.lookAtTarget),this.el.object3D.lookAt(this.lookAtTarget),this.el.object3D.rotation.x=0,this.el.object3D.rotation.z=0)}}),check_devices:AFRAME.registerComponent("check-devices",{dependencies:["position"],schema:{},init:function(){}}),clickable:AFRAME.registerComponent("clickable",{schema:{type:"boolean",default:!0},init:function(){this.el.classList.add("interactive")},update:function(){1==this.data?(this.el.classList.toggle("clickable",!0),this.el.emit("canclick",{detail:this.el},!1)):0==this.data&&(this.el.classList.toggle("clickable",!1),this.el.emit("noclick",{detail:this.el},!1))}}),signal:AFRAME.registerComponent("signal",{schema:{on:{type:"string",default:"signal"},emit:{type:"string",default:"signal"},data:{type:"string"},target:{type:"selectorAll"},bubbles:{type:"boolean",default:!0}},multiple:!0,__handleRegisteredEvents:function(){var t={};this.el.dataset&&this.el.dataset[this.data.data]&&(t=AFRAME.utils.styleParser.parse(this.el.dataset[this.data.data])),t.srcEl=this.el;for(var e=this.__targets.length,i=0;i<e;i++)this.__targets[i].emit(this.data.emit,t,this.data.bubbles)},__registerEventHandler:function(t){this.el.addEventListener(t,this.__handleRegisteredEvents)},__deRegisterEventHandler:function(t){this.el.removeEventListener(t,this.__handleRegisteredEvents)},init:function(){this.__targets=this.data.target,this.__handleRegisteredEvents=this.__handleRegisteredEvents.bind(this),this.__registerEventHandler(this.data.on)},update:function(t){t.on&&this.data.on&&t.on!==this.data.on&&(this.__deRegisterEventHandler(t.on),this.__handleRegisteredEvents=this.__handleRegisteredEvents.bind(this),this.__registerEventHandler(this.data.on)),t.target&&this.data.target&&t.target!==this.data.target&&(this.__targets=this.data.target)},remove:function(){this.__deRegisterEventHandler()}}),signal_set:AFRAME.registerComponent("signal-set",{schema:{on:{type:"string"},attr:{type:"string"},target:{type:"string",default:"none"}},multiple:!0,__handleRegisteredEvents:function(){var t;t=AFRAME.utils.entity.getComponentProperty(this.el,`set__${this.id}`),"none"!==this.data.target?this._targets=Array.from(document.querySelectorAll(this.data.target)):this._targets=[this.el];for(var e,i=this._targets.length,u=0;u<i;u++)e=this._targets[u],AFRAME.utils.entity.setComponentProperty(e,this.data.attr,t)},__registerEventHandler:function(t){this.el.addEventListener(t,this.__handleRegisteredEvents)},__deRegisterEventHandler:function(t){this.el.removeEventListener(t,this.__handleRegisteredEvents)},init:function(){this.id?(this._targets=[],this.__registerEventHandler=this.__registerEventHandler.bind(this),this.__handleRegisteredEvents=this.__handleRegisteredEvents.bind(this),this.__deRegisterEventHandler=this.__deRegisterEventHandler.bind(this),this.isSuspended=!1):console.error("Component id is required. Use signal-set__* to set an id.")},play:function(){this.isSuspended=!1},pause:function(){this.isSuspended=!0},update:function(t){!t.on&&this.data.on&&this.__registerEventHandler(this.data.on),t.on&&this.data.on&&t.on!==this.data.on&&(this.__deRegisterEventHandler(t.on),this.__registerEventHandler(this.data.on))},remove:function(){this.__deRegisterEventHandler()}}),attr_set:AFRAME.registerComponent("set",{multiple:!0,init:function(){this.id?this.__data=AFRAME.utils.styleParser.parse(this.data):console.error("Component id is required. Use attr-set__* to set an id.")},getProperties:function(){return this}}),signal_remove:AFRAME.registerComponent("signal-remove",{schema:{on:{type:"string"},target:{type:"selector"},attr:{type:"string"}},init:function(){this.onPrescribedEvent=this.onPrescribedEvent.bind(this)},onPrescribedEvent:function(){this.data.target.removeAttribute(this.data.attr)},update:function(t){t.on?(this.el.removeEventListener(t.on,this.onPrescribedEvent),this.el.addEventListener(this.data.on,this.onPrescribedEvent)):this.el.addEventListener(this.data.on,this.onPrescribedEvent)},remove:function(){this.el.removeEventListener(this.data.on,this.onPrescribedEvent),this.onPrescribedEvent=null}}),grid_floor:AFRAME.registerComponent("grid-floor",{init:function(){this.el.setObject3D("grid1",new THREE.GridHelper(10,10)),this.el.setObject3D("grid2",new THREE.GridHelper(10,40)),this.el.object3DMap.grid2.material.linewidth=1,this.el.object3DMap.grid2.material.transparent=!0,this.el.object3DMap.grid2.material.opacity=.22,this.el.object3DMap.grid2.material.needsUpdate=!0}}),template:AFRAME.registerComponent("template",{schema:{src:{type:"selector"},classname:{type:"string",default:"none"},insert:{type:"string",default:"afterbegin",oneOf:["afterbegin","beforebegin","beforeend","afterend"]}},init:function(){this.purgeChildren=this.purgeChildren.bind(this),"none"==this.data.classname?this.templateID="tmp-"+AFRAME.utils.makeId(5):this.templateID=this.data.classname},purgeChildren:function(){var t=this;Array.from(t.el.sceneEl.querySelectorAll(t.templateID)).forEach(e=>{t.el.removeChild(e),e.destroy()})},update:function(t){var e=this,i=this.data.src,n=this.el.dataset;Array.from(i.content.children).forEach(t=>{t.classList.add(e.templateID)}),t&&t.src&&t.src!==this.data.src&&this.purgeChildren();var s=u(i.innerHTML,n);this.el.insertAdjacentHTML(this.data.insert,s)},remove:function(){this.purgeChildren()}}),template_file:AFRAME.registerComponent("template-file",{schema:{src:{type:"asset"}},init:function(){var t=this.el.dataset,e=this.data.src;(new THREE.FileLoader).load(e,e=>{var i=u(e,t);console.log(i),this.el.insertAdjacentHTML("afterbegin",i)})}}),axes_helper:AFRAME.registerComponent("axes-helper",{schema:{scale:{type:"vec3",default:{x:1,y:1,z:1}},pos:{type:"vec3",default:{x:0,y:0,z:0}},rot:{type:"vec3",default:{x:0,y:0,z:0}},child:{type:"string",default:"none"}},multiple:!0,init:function(){var t=AFRAME.utils.axishelper();t.scale.copy(this.data.scale),this.el.object3D.add(t)}}),wire_display:AFRAME.registerComponent("wire-display",{schema:{color:{type:"color",default:"yellow"},opacity:{type:"number",default:.5}},create:function(){var t=this,e=[],i=[];t.el.object3D.traverse(t=>{t.isBufferGeometry?e.push(t):t.isGeometry&&i.push(t)}),e.forEach(e=>{var i=new THREE.EdgesGeometry(e.clone()),u=new THREE.LineSegments(i,new THREE.LineBasicMaterial({color:16777215}));t.el.object3D.add(u)}),t.el.removeObject3D("mesh")},tick:function(){this.el.object3DMap.mesh&&!this.pollingForMesh&&(this.pollingForMesh=!0,this.create())}}),distribute_linear:AFRAME.registerComponent("distribute-linear",{schema:{},init:function(){var t=this.el.children;this.childEls=Array.from(t),this.numChildren=this.childEls.length,this.childComponents=[],this.childCounter=0,this.localPosition=new THREE.Vector3;for(var e=0;e<this.childEls.length;e++){var i={parent:this.el,offset:e,max:this.childEls.length,first:!1,last:!1};0==e&&(this.firstChild=this.childEls[e],i.first=!0),e==this.childEls.length-1&&(this.lastChild=this.childEls[e],i.last=!0),this.childEls[e].setAttribute("distribute",i)}},subscribe:function(t,e){this.childCounter++,this.childComponents.push(e),this.childCounter==this.numChildren&&this.updateChain()},updateChain:function(){for(this.childCounter=0;this.childCounter<this.numChildren;this.childCounter++)this.localPosition.lerpVectors(this.firstChild.object3D.position,this.lastChild.object3D.position,this.childCounter/this.numChildren),this.childComponents[this.childCounter].updateAlignment(this.localPosition)}}),distribute:AFRAME.registerComponent("distribute",{schema:{parent:{type:"selector"},offset:{type:"number"},max:{type:"number"},first:{type:"boolean",default:!1},last:{type:"boolean",default:!1}},init:function(){this.manager=this.data.parent.components["distribute-linear"],this.data.parent.components["distribute-linear"].subscribe(this.el,this)},updateAlignment:function(t){this.el.object3D.position.copy(t)}}),json_model:AFRAME.registerComponent("json-model",{schema:{type:"asset"},init:function(){var t=this;(new THREE.ObjectLoader).load(this.data,e=>{t.el.setObject3D("mesh",e),t.el.object3DMap.mesh.updateMatrixWorld(!0)})},remove:function(){this.el.removeObject3D("mesh")}}),xml_template:AFRAME.registerComponent("xml-template",{schema:{type:"asset"},init:function(){this.loader=new THREE.FileLoader,this.loader.load(this.data,t=>{console.log(t)})}})}},function(t,e,i){var u=i(15),n=i(52);t.exports=function(t,e){return n(u(t),e,arguments[2])}},function(t,e,i){var u,n,s,r,o,a,l,h,c,D,d=i(16);o=function(t){return"\\"===t?a:"$"===t?l:(n+=t,o)},a=function(t){return"\\"!==t&&"$"!==t&&(n+="\\"),n+=t,o},l=function(t){return"{"===t?(s.push(n),n="",h):"$"===t?(n+="$",l):(n+="$"+t,o)},h=function(t){var e,i=D.slice(u);return d(i,"}",(function(t){if(d.nest>=0)return d.next();e=t})),null!=e?(r.push(D.slice(u,u+e)),u+=e,n="",o):(e=i.length,u+=e,n+=i,h)},c=function(t){return"\\"!==t&&"}"!==t&&(n+="\\"),n+=t,h},t.exports=function(t){var e,i,d;for(n="",s=[],r=[],e=(D=String(t)).length,i=o,u=0;u<e;++u)i=i(D[u]);return i===o?s.push(n):i===a?s.push(n+"\\"):i===l?s.push(n+"$"):i===h?s[s.length-1]+="${"+n:i===c&&(s[s.length-1]+="${"+n+"\\"),d={literals:s,substitutions:r},s=r=null,d}},function(t,e,i){var u,n,s,r,o,a,l,h,c,D,d,p,E,A,f,m,F,C,v,g,b,y,B,_,x,M,R,T=i(5),w=i(4),j=i(3),H=i(9),O=i(0),S=i(10),P=i(50),L=Object.prototype.hasOwnProperty,k=w.apply(null,T(";{=([,<>+-*/%&|^!~?:}")),z=w.apply(null,T(";{=([,<>+-*/%&|^!~?:})]."));u=function(t){if(p&&!(d>=t))for(;d!==t;){if(!p)return;L.call(P,p)?L.call(S,p)&&(A=d,++E):m=p,p=g[++d]}},n=function(t){null!=x&&C.push([M,x,t]),M={point:d+1,line:E,column:d+1-A},x=d},s=function(){var t;if(M.raw=g.slice(x,d),v.push(M),C.length)return t=C.pop(),M=t[0],x=t[1],void(R=t[2]);M=null,x=null,R=null},r=function(){var t=R;return R=F,++F,u(d+1),n(t),o},a=function(){if("'"===p||'"'===p)return _=p,p=g[++d],l;if("("===p||"{"===p||"["===p)++F;else if(")"===p||"}"===p||"]"===p)R===--F&&s();else if("/"===p&&L.call(k,m))return p=g[++d],D;return p!==b||!y&&m&&!f&&!L.call(z,m)?(m=p,p=g[++d],o):B(d,m,F)},h=function(){for(;;){if(!p)return;if(L.call(S,p))return A=d+1,void++E;p=g[++d]}},c=function(){for(;;){if(!p)return;if("*"!==p)L.call(S,p)&&(A=d+1,++E),p=g[++d];else if("/"===(p=g[++d]))return}},o=function(){var t;for(f=!1;;){if(!p)return;if(L.call(P,p))f=!0,L.call(S,p)&&(A=d+1,++E);else{if("/"!==p)break;if("/"===(t=g[d+1]))p=g[d+=2],f=!0,h();else{if("*"!==t)break;p=g[d+=2],f=!0,c()}}p=g[++d]}return a},l=function(){for(;;){if(!p)return;if(p===_)return p=g[++d],m=_,o;"\\"===p&&L.call(S,g[++d])&&(A=d+1,++E),p=g[++d]}},D=function(){for(;;){if(!p)return;if("/"===p)return m="/",p=g[++d],o;"\\"===p&&++d,p=g[++d]}},t.exports=e=function(t,i,u){var n;if(g=String(j(t)),1!==(b=String(j(i))).length)throw new TypeError(b+" should be one character long string");for(B=H(u),y=L.call(z,b),p=g[d=0],E=1,A=0,f=!1,m=null,F=0,C=[],v=[],e.forceStop=!1,n=o;n;)n=n();return v},Object.defineProperties(e,{$ws:O(o),$common:O(a),collectNest:O(r),move:O(u),index:O.gs((function(){return d})),line:O.gs((function(){return E})),nest:O.gs((function(){return F})),columnIndex:O.gs((function(){return A})),next:O((function(t){if(p)return u(d+(t||1)),o()})),resume:O((function(){return a}))})},function(t,e,i){t.exports=function(){var t,e,i=Array.from;return"function"==typeof i&&(e=i(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,i){var u=i(19).iterator,n=i(42),s=i(43),r=i(44),o=i(9),a=i(3),l=i(2),h=i(49),c=Array.isArray,D=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,i,E,A,f,m,F,C,v,g,b=arguments[1],y=arguments[2];if(t=Object(a(t)),l(b)&&o(b),this&&this!==Array&&s(this))e=this;else{if(!b){if(n(t))return 1!==(f=t.length)?Array.apply(null,t):((A=new Array(1))[0]=t[0],A);if(c(t)){for(A=new Array(f=t.length),i=0;i<f;++i)A[i]=t[i];return A}}A=[]}if(!c(t))if(void 0!==(v=t[u])){for(F=o(v).call(t),e&&(A=new e),C=F.next(),i=0;!C.done;)g=b?D.call(b,y,C.value,i):C.value,e?(d.value=g,p(A,i,d)):A[i]=g,C=F.next(),++i;f=i}else if(h(t)){for(f=t.length,e&&(A=new e),i=0,E=0;i<f;++i)g=t[i],i+1<f&&(m=g.charCodeAt(0))>=55296&&m<=56319&&(g+=t[++i]),g=b?D.call(b,y,g,E):g,e?(d.value=g,p(A,E,d)):A[E]=g,++E;f=E}if(void 0===f)for(f=r(t.length),e&&(A=new e(f)),i=0;i<f;++i)g=b?D.call(b,y,t[i],i):t[i],e?(d.value=g,p(A,i,d)):A[i]=g;return e&&(d.value=null,A.length=f),A}},function(t,e,i){t.exports=i(20)()?i(1).Symbol:i(23)},function(t,e,i){var u=i(1),n={object:!0,symbol:!0};t.exports=function(){var t,e=u.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!n[typeof e.iterator]&&(!!n[typeof e.toPrimitive]&&!!n[typeof e.toStringTag])}},function(t,e,i){t.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(t,e){var i=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}()},function(t,e,i){var u,n,s,r=i(0),o=i(8),a=i(1).Symbol,l=i(39),h=i(40),c=i(41),D=Object.create,d=Object.defineProperties,p=Object.defineProperty;if("function"==typeof a)try{String(a()),s=!0}catch(t){}else a=null;n=function(t){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return u(t)},t.exports=u=function t(e){var i;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return s?a(e):(i=D(n.prototype),e=void 0===e?"":String(e),d(i,{__description__:r("",e),__name__:r("",l(e))}))},h(u),c(u),d(n.prototype,{constructor:r(u),toString:r("",(function(){return this.__name__}))}),d(u.prototype,{toString:r((function(){return"Symbol ("+o(this).__description__+")"})),valueOf:r((function(){return o(this)}))}),p(u.prototype,u.toPrimitive,r("",(function(){var t=o(this);return"symbol"==typeof t?t:t.toString()}))),p(u.prototype,u.toStringTag,r("c","Symbol")),p(n.prototype,u.toStringTag,r("c",u.prototype[u.toStringTag])),p(n.prototype,u.toPrimitive,r("c",u.prototype[u.toPrimitive]))},function(t,e,i){var u=i(25),n=/^\s*class[\s{/}]/,s=Function.prototype.toString;t.exports=function(t){return!!u(t)&&!n.test(s.call(t))}},function(t,e,i){var u=i(26);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!u(t)}},function(t,e,i){var u=i(27);t.exports=function(t){if(!u(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e,i){var u=i(6),n={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!u(t)&&hasOwnProperty.call(n,typeof t)}},function(t,e,i){t.exports=i(29)()?Object.assign:i(30)},function(t,e,i){t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,i){var u=i(31),n=i(3),s=Math.max;t.exports=function(t,e){var i,r,o,a=s(arguments.length,2);for(t=Object(n(t)),o=function(u){try{t[u]=e[u]}catch(t){i||(i=t)}},r=1;r<a;++r)e=arguments[r],u(e).forEach(o);if(void 0!==i)throw i;return t}},function(t,e,i){t.exports=i(32)()?Object.keys:i(33)},function(t,e,i){t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,i){var u=i(2),n=Object.keys;t.exports=function(t){return n(u(t)?Object(t):t)}},function(t,e,i){t.exports=function(){}},function(t,e,i){t.exports=i(36)()?String.prototype.contains:i(37)},function(t,e,i){var u="razdwatrzy";t.exports=function(){return"function"==typeof u.contains&&(!0===u.contains("dwa")&&!1===u.contains("foo"))}},function(t,e,i){var u=String.prototype.indexOf;t.exports=function(t){return u.call(this,t,arguments[1])>-1}},function(t,e,i){t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,i){var u=i(0),n=Object.create,s=Object.defineProperty,r=Object.prototype,o=n(null);t.exports=function(t){for(var e,i,n=0;o[t+(n||"")];)++n;return o[t+=n||""]=!0,s(r,e="@@"+t,u.gs(null,(function(t){i||(i=!0,s(this,e,u(t)),i=!1)}))),e}},function(t,e,i){var u=i(0),n=i(1).Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:u("",n&&n.hasInstance||t("hasInstance")),isConcatSpreadable:u("",n&&n.isConcatSpreadable||t("isConcatSpreadable")),iterator:u("",n&&n.iterator||t("iterator")),match:u("",n&&n.match||t("match")),replace:u("",n&&n.replace||t("replace")),search:u("",n&&n.search||t("search")),species:u("",n&&n.species||t("species")),split:u("",n&&n.split||t("split")),toPrimitive:u("",n&&n.toPrimitive||t("toPrimitive")),toStringTag:u("",n&&n.toStringTag||t("toStringTag")),unscopables:u("",n&&n.unscopables||t("unscopables"))})}},function(t,e,i){var u=i(0),n=i(8),s=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:u((function(e){return s[e]?s[e]:s[e]=t(String(e))})),keyFor:u((function(t){var e;for(e in n(t),s)if(s[e]===t)return e}))})}},function(t,e,i){var u=Object.prototype.toString,n=u.call(function(){return arguments}());t.exports=function(t){return u.call(t)===n}},function(t,e,i){var u=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&n(u.call(t))}},function(t,e,i){var u=i(45),n=Math.max;t.exports=function(t){return n(0,u(t))}},function(t,e,i){var u=i(46),n=Math.abs,s=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?u(t)*s(n(t)):t}},function(t,e,i){t.exports=i(47)()?Math.sign:i(48)},function(t,e,i){t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,i){t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,i){var u=Object.prototype.toString,n=u.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||u.call(t)===n)||!1}},function(t,e,i){var u=i(4),n=i(10),s=i(51);t.exports=u.apply(null,Object.keys(n).concat(Object.keys(s)))},function(t,e,i){var u=i(5),n=i(4);t.exports=n.apply(null,u(" \f\t\v​  ​᠎ ​  ​  ​  ​  ​  ​​​  ​　"))},function(t,e,i){var u=i(53),n=i(55);t.exports=function(t,e){return n.apply(null,u(t,e,arguments[2]))}},function(t,e,i){var u=i(3),n=i(7),s=i(54),r=Array.prototype.map,o=Object.keys,a=JSON.stringify;t.exports=function(t,e){var i,l,h,c=Object(arguments[2]);return u(t)&&u(t.literals)&&u(t.substitutions),e=n(e),i=o(e).filter(s),l=i.join(", "),h=i.map((function(t){return e[t]})),[t.literals].concat(r.call(t.substitutions,(function(t){var e;if(t){try{e=new Function(l,"return ("+t+")")}catch(e){throw new TypeError("Unable to compile expression:\n\targs: "+a(l)+"\n\tbody: "+a(t)+"\n\terror: "+e.stack)}try{return e.apply(null,h)}catch(e){if(c.partial)return"${"+t+"}";throw new TypeError("Unable to resolve expression:\n\targs: "+a(l)+"\n\tbody: "+a(t)+"\n\terror: "+e.stack)}}})))}},function(t,e,i){t.exports=RegExp.prototype.test.bind(/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/)},function(t,e,i){var u=Array.prototype.reduce;t.exports=function(t){var e=arguments;return u.call(t,(function(t,i,u){return t+(void 0===e[u]?"":String(e[u]))+i}))}},function(t,e){t.exports={grid:AFRAME.registerShader("grid",{schema:{FGColor:{type:"color",is:"uniform",default:"#FFF"},BGColor:{type:"color",is:"uniform",default:"#000"},Thickness:{type:"number",is:"uniform",default:.025},GridSize:{type:"number",is:"uniform",default:1},time:{type:"time",is:"uniform"},cameraPosition:{type:"vec3",is:"uniform",default:{x:0,y:0,z:0}}},raw:!0,fragmentShader:"/**\n* Example Fragment Shader\n* Sets the color and alpha of the pixel by setting gl_FragColor\n*/\n\n// Set the precision for data types used in this shader\nprecision highp float;\nprecision highp int;\n\n// Default THREE.js uniforms available to both fragment and vertex shader\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\n// Default uniforms provided by ShaderFrog.\nuniform vec3 cameraPosition;\nuniform float time;\n\n// A uniform unique to this shader. You can modify it to the using the form\n// below the shader preview. Any uniform you add is automatically given a form\n\n\n// Example varyings passed from the vertex shader\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\n\nuniform float GridSize;\nuniform float Thickness;\nuniform vec3 BGColor;\nuniform vec3 FGColor;\n\nvoid main() {\n\n    // Calculate the real position of this pixel in 3d space, taking into account\n    // the rotation and scale of the model. It's a useful formula for some effects.\n    // This could also be done in the vertex shader\n    vec3 worldPosition = ( modelMatrix * vec4( vPosition, 1.0 )).xyz;\n\n    // Calculate the normal including the model rotation and scale\n    vec3 worldNormal = normalize( vec3( modelMatrix * vec4( vNormal, 0.0 ) ) );\n    \n    vec3 fr=fract(worldPosition/exp(GridSize-4.0));\n    float xf=abs(fr.x-0.5)*2.0;\n    float yf=abs(fr.y-0.5)*2.0;\n    float zf=abs(fr.z-0.5)*2.0;\n    float sqr=min(xf,yf);\n    sqr=min(sqr,zf);\n    vec3 col=BGColor;\n    if (sqr<=Thickness) {\n        col=FGColor;\n    }\n\n    // Fragment shaders set the gl_FragColor, which is a vector4 of\n    // ( red, green, blue, alpha ).\n    gl_FragColor = vec4( col, 1.0 );\n\n}",vertexShader:"/**\n* Example Vertex Shader\n* Sets the position of the vertex by setting gl_Position\n*/\n\n// Set the precision for data types used in this shader\nprecision highp float;\nprecision highp int;\n\n// Default THREE.js uniforms available to both fragment and vertex shader\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\n// Default uniforms provided by ShaderFrog.\nuniform vec3 cameraPosition;\nuniform float time;\n\n// Default attributes provided by THREE.js. Attributes are only available in the\n// vertex shader. You can pass them to the fragment shader using varyings\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n\n// Examples of variables passed from vertex to fragment shader\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\n\nvoid main() {\n\n    // To pass variables to the fragment shader, you assign them here in the\n    // main function. Traditionally you name the varying with vAttributeName\n    vNormal = normal;\n    vUv = uv;\n    vUv2 = uv2;\n    vPosition = position;\n\n    // This sets the position of the vertex in 3d space. The correct math is\n    // provided below to take into account camera and object data.\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}"}),blend_images:AFRAME.registerShader("blend-images",{schema:{textureA:{type:"map",is:"uniform"},textureB:{type:"map",is:"uniform"},mask:{type:"number",is:"uniform",default:.5}},raw:!0,fragmentShader:"precision highp float;\nprecision highp int;\n\nuniform float mask;\nuniform sampler2D textureA;\nuniform sampler2D textureB;\n\nvarying vec2 vUv;\n \nvoid main() {\n    vec4 image1 = vec4( texture2D(textureA, vUv).rgb, 1.0 );\n    vec4 image2 = vec4( texture2D(textureB, vUv).rgb, 1.0 );\n    \n    vec4 color = ( image1 * mask) + (image2* (1.0 - mask));\n    \n    gl_FragColor = vec4( color);\n\n}",vertexShader:"precision highp float;\nprecision highp int;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"}),fresnel_glow:AFRAME.registerShader("fresnel-glow",{schema:{color:{type:"color",is:"uniform",default:"#FFF"},start:{type:"number",is:"uniform",default:0},end:{type:"number",is:"uniform",default:0},alpha:{type:"number",is:"uniform",default:0}},raw:!0,fragmentShader:"#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n\nuniform vec3 color;\nuniform float start;\nuniform float end;\nuniform float alpha;\n\nvarying vec3 fPosition;\nvarying vec3 fNormal;\n\nvoid main()\n{\n  vec3 normal = normalize(fNormal);\n  vec3 eye = normalize(-fPosition.xyz);\n  float rim = smoothstep(start, end, 1.0 - dot(normal, eye));\n  gl_FragColor = vec4( clamp(rim, 0.0, 1.0) * alpha * color, 1.0 );\n}",vertexShader:"precision highp float;\nattribute vec3 position;\nattribute vec3 normal;\nuniform mat3 normalMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec3 fNormal;\nvarying vec3 fPosition;\n\nvoid main()\n{\n  fNormal = normalize(normalMatrix * normal);\n  vec4 pos = modelViewMatrix * vec4(position, 1.0);\n  fPosition = pos.xyz;\n  gl_Position = projectionMatrix * pos;\n}"}),solid_fill:AFRAME.registerShader("solid-fill",{schema:{colorA:{type:"color",is:"uniform",default:"#FFF"},colorB:{type:"color",is:"uniform",default:"#000"},mask:{type:"number",is:"uniform",default:0}},raw:!0,fragmentShader:"precision highp float;\nprecision highp int;\n\n#define PI 3.141592653589793238462643383279\n\nuniform vec3 colorA;\nuniform vec3 colorB;\nuniform float mask;\n\nvarying vec2 vUv;\n \nvoid main() {\n\n    float uvOffset = vUv.t;\n    float uvGradient = uvOffset ;\n    \n    vec3 color = colorB;\n    \n    if( uvGradient < mask ) {\n        color = colorA;\n    }\n    \n    gl_FragColor = vec4( color, 1.0 );\n\n}",vertexShader:"precision highp float;\nprecision highp int;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"}),spinner:AFRAME.registerShader("spinner",{schema:{time:{type:"time",is:"uniform"},cameraPosition:{type:"vec3",is:"uniform",default:{x:0,y:0,z:0}},antialias:{type:"number",is:"uniform",default:400},color:{type:"color",is:"uniform",default:"#FFF"},width:{type:"number",is:"uniform",default:.04},radius:{type:"number",is:"uniform",default:.3},fadePercent:{type:"number",is:"uniform",default:.75}},raw:!0,fragmentShader:"precision highp float;\n\n#define PI 3.14159265358979323\n\nuniform float time;\nuniform float fadePerecent;\nuniform vec3 color;\n\n// Mostly relative to UV coords\nuniform float width;\nuniform float radius;\nuniform float antialias;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\t// needs to be constant (can't be a uniform)\n\tconst int antialiasing = 4;\n\tfloat invResolution = 1.0 / antialias;\n\tvec2 pos = (vUv - 0.5) * antialias;\n\t\n\tvec4 sumColor = vec4(0.0);\n\tfloat total = 0.0;\n\n\tfloat offset = 1.0 / (float(antialiasing) + 2.0);\n\tfor (int j = -antialiasing; j <= antialiasing; j++) {\n\t\tfor (int i = -antialiasing; i <= antialiasing; i++) {\n\t\t\tvec2 adjustedPos = (pos + vec2(float(i) * offset, float(j) * offset)) / antialias;\n\t\t\tfloat dist = length(adjustedPos);\n\t\t\tif ( ( radius - width ) < dist && dist < ( radius + width ) ) {\n\t\t\t\tfloat ang = atan( adjustedPos.y, adjustedPos.x );\n\t\t\t\tsumColor += vec4(\n\t\t\t\t\t( color / fadePerecent ) * ( fadePerecent - mod( ang / PI + time, 2.0 ) / 2.0 ),\n\t\t\t\t\t0.0\n\t\t\t\t);\n\t\t\t}\n\t\t\ttotal += 1.0;\n\t\t}\n\t}\n\tgl_FragColor = vec4( ( sumColor / total ).xyz, 1.0 );\n\n}\n",vertexShader:"/**\n* Example Vertex Shader\n* Sets the position of the vertex by setting gl_Position\n*/\n\n// Set the precision for data types used in this shader\nprecision highp float;\nprecision highp int;\n\n// Default THREE.js uniforms available to both fragment and vertex shader\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\n// Default uniforms provided by ShaderFrog.\nuniform vec3 cameraPosition;\nuniform float time;\n\n// Default attributes provided by THREE.js. Attributes are only available in the\n// vertex shader. You can pass them to the fragment shader using varyings\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n\n// Examples of variables passed from vertex to fragment shader\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\n\nvoid main() {\n\n    // To pass variables to the fragment shader, you assign them here in the\n    // main function. Traditionally you name the varying with vAttributeName\n    vNormal = normal;\n    vUv = uv;\n    vUv2 = uv2;\n    vPosition = position;\n\n    // This sets the position of the vertex in 3d space. The correct math is\n    // provided below to take into account camera and object data.\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}"}),ramp:AFRAME.registerShader("ramp",{fragmentShader:"precision mediump float;\n\nvarying vec2 vUv;\n\nuniform vec3 color1;\nuniform vec3 color2;\n\nvoid main( void ) {\n    vec3 mixCol = mix( color2, color1, vUv.y );\n\tgl_FragColor = vec4(mixCol, 1.);\n}",vertexShader:"precision highp float;\r\nprecision highp int;\r\n\r\nuniform mat4 modelMatrix;\r\nuniform mat4 modelViewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform mat4 viewMatrix;\r\nuniform mat3 normalMatrix;\r\n\r\nattribute vec3 position;\r\nattribute vec3 normal;\r\nattribute vec2 uv;\r\nattribute vec2 uv2;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n}",schema:{color1:{type:"color",glslType:"vec3",default:"#000000",is:"uniform"},color2:{is:"uniform",type:"color",glslType:"vec3",default:"#FFFFFF"}},raw:!0})}},function(t,e){t.exports={teleporter_system:AFRAME.registerSystem("teleporter-controls",{schema:{marker:{type:"selector"},markerRadius:{type:"number",default:.33},markerHeight:{type:"number",default:.25},markerDivisions:{type:"number",default:24},playerHeightOffset:{type:"number",default:1.5}},init:function(){this.components=[],this.subscribe=this.subscribe.bind(this),this.marker=null},subscribe:function(t){this.components.push(t);var e=this.components.indexOf(t);t.locomoteID=e;var i=new THREE.Color(0).convertSRGBToLinear();if(this.data.marker||this.marker)!this.marker&&this.data.marker&&(this.marker=this.data.marker);else{this.marker=document.createElement("a-entity"),this.marker.setAttribute("id","teleport-marker-"+AFRAME.utils.makeId(5)),this.marker.classList.add("teleport-marker"),this.el.appendChild(this.marker);var u=new THREE.Mesh(new THREE.CylinderBufferGeometry(this.data.markerRadius,this.data.markerRadius,this.data.markerHeight,this.data.markerDivisions,1,!0),AFRAME.utils.getGradientShader("teleportDestination",i,t.yesColor));this.marker.setObject3D("mesh",u),u.updateMatrixWorld(!0),this.marker.object3DMap.mesh.position.setY(this.data.markerHeight/2)}this.components.length>1&&(this.hasTwoHands=!0),t.destObject=this.marker.object3D,t._create()},toggleOtherHand:function(t){this.hasTwoHands&&(this.otherHandIndex=1==t.locomoteID?0:1,this.components[this.otherHandIndex]._hideTeleportUI(!0))}}),teleporter_controls:AFRAME.registerComponent("teleporter-controls",{dependencies:["position","rotation","scale","virtual-hand"],schema:{objects:{type:"string",default:".telepad"},startOn:{type:"string",default:"thumbstickdown"},cancelOn:{type:"string",default:"thumbstickup"},moveOn:{type:"string",default:"triggerup"},player:{type:"selector",default:"#vr-player"},camera:{type:"selector",default:"#vr-camera"},length:{type:"number",default:10},yesColor:{type:"color",default:"#8FE388"},noColor:{type:"color",default:"#E7556A"},style:{type:"string",default:"tube",oneOf:["tube","line"]},enabled:{type:"boolean",default:!0},signal:{type:"boolean",default:!0}},init:function(){this.playerTeleportDestination=new THREE.Vector3,this.playerTeleportOffset=new THREE.Vector3,this.orientDestNormalVec=new THREE.Vector3,this.orientDestQuat=new THREE.Quaternion,this.__startHandler=this.__startHandler.bind(this),this.__moveHandler=this.__moveHandler.bind(this),this.__cancelHandler=this.__cancelHandler.bind(this),this._hideTeleportUI=this._hideTeleportUI.bind(this),this._create=this._create.bind(this),this.rayOrigin=new THREE.Vector3(0,0,0),this.rayAim=new THREE.Vector3(0,-1,-.5).normalize(),this.yesColor=new THREE.Color(this.data.yesColor).convertSRGBToLinear(),this.noColor=new THREE.Color(this.data.noColor).convertSRGBToLinear(),this.__angleSolve.bind(this),this.offsetScalar=this.__angleSolve(this.rayAim.z,this.rayAim.y,this.data.length),this.seekTeleportDestination=this.seekTeleportDestination.bind(this),this.el.addEventListener(this.data.startOn,this.__startHandler),this.el.addEventListener(this.data.cancelOn,this.__cancelHandler),this.el.addEventListener(this.data.moveOn,this.__moveHandler),this.system.subscribe(this)},_create:function(){var t=this.el,e=this.data,i=this;i.rayOrigin=new THREE.Vector3(0,0,0),i.rayAim=new THREE.Vector3(0,-1,-.5).normalize(),this.beamEl=document.createElement("a-entity"),this.el.appendChild(this.beamEl),this.beamEl.setAttribute("raycaster",{origin:i.rayOrigin,direction:i.rayAim,objects:e.objects,showLine:!1,near:0,far:e.length,autoRefresh:!1}),i.raycaster=this.beamEl.components.raycaster,i.v0=new THREE.Vector3(0,0,0),i.v1=new THREE.Vector3(0,0,-1),i.v2=new THREE.Vector3(0,-1,-3),i.v3=new THREE.Vector3(0,0,0);var u=new THREE.CubicBezierCurve3(i.v0,i.v3,i.v1,i.v2);switch(e.style){case"tube":i.curveGeometry=new THREE.TubeBufferGeometry(u,24,.0075,2,!1),i.lineMaterial=new THREE.MeshBasicMaterial({color:i.noColor,transparent:!0,opacity:.6,blending:THREE.AdditiveBlending,depthTest:!0,depthWrite:!1}),i.curveObject=new THREE.Mesh(i.curveGeometry,i.lineMaterial),i.refreshCurveGeo=function(t,e,n){i.v0.copy(t),i.v3.copy(t),i.v1.copy(e),i.v2.copy(n),i.curveObject.geometry.dispose(),i.curveObject.geometry=new THREE.TubeBufferGeometry(u,24,.0075,2,!1)};break;case"line":default:i.points=u.getPoints(60),i.curveGeometry=(new THREE.BufferGeometry).setFromPoints(i.points),i.lineMaterial=new THREE.LineBasicMaterial({color:i.noColor,transparent:!0,opacity:.45,blending:THREE.AdditiveBlending}),i.curveObject=new THREE.Line(i.curveGeometry,i.lineMaterial),i.refreshCurveGeo=function(t,e,n){i.v0.copy(t),i.v1.copy(e),i.v2.copy(n),i.points=u.getPoints(60),i.curveObject.geometry.setFromPoints(i.points)}}t.setObject3D("curve",i.curveObject),t.object3DMap.curve.updateMatrixWorld(!0),AFRAME.utils.getGradientShader("teleportDestination").setValues({depthTest:!1,depthWrite:!1,opacity:.65,transparent:!0,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),i.destObject.visible=!1,i.curveObject.visible=!1,i.intersection=null,i.testEl=null,i.step=0,i.destinationPoint=new THREE.Vector3,i.midpoint=new THREE.Vector3,i.startPoint=new THREE.Vector3,i.humpOffset=new THREE.Vector3(0,.3,0)},__startHandler:function(){if(this.system.toggleOtherHand(this),this.beamEl.setAttribute("raycaster",{enabled:!0}),this.raycaster.refreshObjects(),this.collisionObjects=Array.from(document.querySelectorAll(this.data.objects)),this.numObjects=this.collisionObjects.length,1==this.data.signal)for(var t=0;t<this.numObjects;t++)this.collisionObjects[t].emit("teleportready",{el:this.el},!0);this.numObjects=this.collisionObjects.length,this.isTesting=!0,this.lineMaterial.color=this.yesColor,this.lineMaterial.needsUpdate=!0,this.curveObject.visible=!0},_hideTeleportUI:function(t){if(t&&1==t&&(this.hasDestination=null),this.isTesting=null,this.beamEl.setAttribute("raycaster",{enabled:!1}),1==this.data.signal)for(var e=0;e<this.numObjects;e++)this.collisionObjects[e].emit("teleportcancel",{el:this.el},!0);this.curveObject.visible=!1,this.destObject.visible=!1},__cancelHandler:function(){this._hideTeleportUI(!0)},__moveHandler:function(){if(this.hasDestination&&(this.playerTeleportOffset.copy(this.data.camera.object3D.position),this.playerTeleportDestination.sub(this.playerTeleportOffset),this.playerTeleportDestination.setY(this.playerTeleportDestination.y+this.system.data.playerHeightOffset),this.data.player.object3D.parent.worldToLocal(this.playerTeleportDestination),this.data.player.object3D.position.copy(this.playerTeleportDestination),this.raycaster.refreshObjects(),this.seekTeleportDestination(),1==this.data.signal))for(var t=0;t<this.numObjects;t++)this.collisionObjects[t].emit("teleported",{el:this.el},!0)},__angleSolve:function(t,e,i){return Number(Math.sqrt(Math.pow(i,2)/(Math.pow(t,2)+Math.pow(e,2))))},seekTeleportDestination:function(){for(this.intersection=this.raycaster.getIntersection(this.testEl),this.step=0;this.step<this.numObjects;this.step++)this.testEl=this.collisionObjects[this.step],this.intersection=this.raycaster.getIntersection(this.testEl),this.intersection?(this.playerTeleportDestination.copy(this.intersection.point),this.hasDestination=!0,this.el.object3D.getWorldPosition(this.startPoint),this.destObject.position.copy(this.intersection.point),this.orientDestNormalVec.copy(this.intersection.face.normal),AFRAME.utils.math.setDirection(this.orientDestNormalVec,this.orientDestQuat),this.destObject.quaternion.copy(this.orientDestQuat),this.destinationPoint.copy(this.intersection.point),this.midpoint.lerpVectors(this.startPoint,this.intersection.point,.5),this.humpOffset.setY(this.intersection.distance/5),this.midpoint.add(this.humpOffset),this.refreshCurveGeo(this.v0,this.el.object3DMap.curve.worldToLocal(this.midpoint),this.el.object3DMap.curve.worldToLocal(this.destinationPoint)),this.destObject.visible=!0,this.lineMaterial.color=this.yesColor):(this.hasDestination=null,this.destObject.visible=!1,this.lineMaterial.color=this.noColor,this.destinationPoint.set(0,this.rayAim.y*this.offsetScalar,this.rayAim.z*this.offsetScalar),this.midpoint.lerpVectors(this.v0,this.destinationPoint,.5),this.humpOffset.setY(this.data.length/4),this.midpoint.add(this.humpOffset),this.refreshCurveGeo(this.v0,this.midpoint,this.destinationPoint))},tick:function(){this.isTesting&&this.seekTeleportDestination()}})}},function(t,e){t.exports={system:AFRAME.registerSystem("google-poly",{schema:{type:"string"},__getAsset:function(t,e){if(null==THREE.Cache.get(t))this.__loadAsset(t,e);else{var i=THREE.Cache.get(t);this._create(i,e,t)}},_create:function(t,e){t.updateMatrixWorld(!0);var i=new THREE.Vector3,u=new THREE.Vector3,n=(new THREE.Box3).setFromObject(t);n.getSize(i);var s=Math.max.apply(Math,[i.x,i.y,i.z]);t.scale.multiplyScalar(1/s),t.scale.multiplyScalar(e.components.poly.data.size),n.setFromObject(t),n.getCenter(u),t.position.sub(u);var r=new THREE.Object3D;r.add(t),e.setObject3D("mesh",r)},__loadAsset:function(t,e){const i=this.data;var u=this,n=`https://poly.googleapis.com/v1/assets/${t}/?key=${i}`,s=new XMLHttpRequest;s.open("GET",n,!0),s.addEventListener("load",(function(i){var n,s,r,o,a,l=JSON.parse(i.target.response),h=function(t){return l.formats.find(e=>e.formatType===t)};if(null==h("GLTF2"))if(console.warn("Cannot load model as GLTF. Attempting to load OBJ"),null==h("OBJ"))console.error("Only GLTF and OBJ are supported at this time");else{var c=h("OBJ");s=(n=c).root,r=n.resources.find(t=>t.url.endsWith("mtl")),o=s.url.slice(0,s.url.indexOf(s.relativePath)),(a=new THREE.MTLLoader).setCrossOrigin(!0),a.setMaterialOptions({ignoreZeroRGBs:!0}),a.setTexturePath(o),a.load(r.url,(function(i){var n=new THREE.OBJLoader;n.setMaterials(i),n.load(s.url,(function(i){THREE.Cache.add(t,i),u._create(i,e,t)}))}))}else!function(i){var n=i.root,s=new THREE.GLTFLoader;s.setCrossOrigin(!0),s.load(n.url,(function(i){THREE.Cache.add(t,i.scene),u._create(i.scene,e,t)}),(function(t){console.log(t.loaded/t.total*100+"% loaded")}),(function(t){console.error(t)}))}(h("GLTF2"))})),s.send(null)},init:function(){THREE.Cache.enabled=!0,this.__getAsset=this.__getAsset.bind(this),this.__loadAsset=this.__loadAsset.bind(this),this._create=this._create.bind(this)}}),component:AFRAME.registerComponent("poly",{schema:{src:{type:"string",default:"5vbJ5vildOq"},size:{type:"number",default:1}},init:function(){var t=this.el,e=this.data;this.system=this.el.sceneEl.systems["google-poly"],this.system.__getAsset(e.src,t)}}),primitive:AFRAME.registerPrimitive("a-poly",{defaultComponents:{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},poly:{size:1,align:"center"}},mappings:{src:"poly.src",size:"poly.size"}})}},function(t,e){t.exports={portal:AFRAME.registerComponent("portal",{schema:{camera:{type:"selector"},interval:{type:"number",default:40},enabled:{type:"boolean",default:!0},canvas:{type:"selector"},useOffscreen:{type:"boolean",default:!0}},init:function(){this.create=this.create.bind(this),this.preStart=this.preStart.bind(this),this.camera=null,this.mesh=null,this.material=new THREE.MeshBasicMaterial},create:function(){var t=this,e=t.data.canvas;1==t.data.useOffscreen&&OffscreenCanvas&&(console.log("offscreen canvas is supported"),e=new OffscreenCanvas(256,256)),e.style={width:256,height:256},t.material.map=new THREE.CanvasTexture(e),t.material.map.needsUpdate=!0,t.el.object3D.traverse(e=>{e.material&&(e.material=t.material,t.material.needsUpdate=!0)}),t.renderer=new THREE.WebGLRenderer({canvas:e,antialias:!1}),this.rendering=!0},preStart:function(t){t&&("camera"==t&&(this.camera=this.data.camera.object3DMap.camera),"mesh"==t&&(this.mesh=this.el.object3DMap.mesh)),this.mesh&&this.camera&&(this.el.sceneEl.renderStarted?this.create():this.el.sceneEl.addEventListener("renderstart",this.create,{once:!0}))},update:function(){AFRAME.utils.entity.onObject3DAdded(this.el,"mesh",this.preStart,this,"mesh"),AFRAME.utils.entity.onObject3DAdded(this.data.camera,"camera",this.preStart,this,"camera"),this.tock=AFRAME.utils.throttleTick(this.tock,this.data.interval,this)},tock:function(){this.rendering&&0!=this.data.enabled&&(this.renderer.render(this.el.sceneEl.object3D,this.camera),this.material.map.needsUpdate=!0,this.material.needsUpdate=!0)},remove:function(){}}),layer:AFRAME.registerComponent("layer",{schema:{type:"number",default:0},init:function(){this.addToLayer=this.addToLayer.bind(this),this.el.addEventListener("object3dset",this.addToLayer)},multiple:!0,addToLayer:function(){var t=this.el,e=this.data;t.object3D.traverse(t=>{t.layers&&t.layers.enable(e)})},update:function(){this.addToLayer()}}),layer_set:AFRAME.registerComponent("layer-set",{schema:{type:"number",default:0},init:function(){this.addToLayer=this.addToLayer.bind(this),this.el.addEventListener("object3dset",this.addToLayer)},addToLayer:function(){var t=this.el,e=this.data;t.object3D.traverse(t=>{t.layers&&t.layers.set(e)})},update:function(){this.addToLayer()}})}},function(t,e){t.exports={"hand-system":AFRAME.registerSystem("oculus-quest-hands",{init:function(){},subscribe:function(){}}),hand:AFRAME.registerComponent("oculus-quest-hands",{schema:{camera:{type:"selector",default:"#vr-camera"},model:{type:"asset"},hand:{type:"string",default:"right",oneOf:["right","left"]}},init:function(){this.setOtherHand=function(t){this.otherHandEl=t},this.eventHandlers={},this.el.setAttribute("tracked-controls",{hand:this.data.hand,armModel:!0,autoHide:!0}),this.el.setAttribute("oculus-touch-controls",{hand:this.data.hand,model:!1,orientationOffset:{x:0,y:0,z:0}}),this.bindMethods=this.bindMethods.bind(this),this.bindMethods()},bindMethods:function(){this.onEntityLoaded=this.onEntityLoaded.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onController=this.onController.bind(this),this.addAnimationClip=this.addAnimationClip.bind(this),this.animateHand=this.animateHand.bind(this),this.registerEventListeners=this.registerEventListeners.bind(this),this.deregisterEventListeners=this.deregisterEventListeners.bind(this),this.dirty=null,this.getDirty=function(){return this.dirty},this.setDirty=async function(){this.dirty||(this.dirty=!0)},this.setDirty=this.setDirty.bind(this),this.getDirty=this.getDirty.bind(this),this.on=this.on.bind(this),this.determineHandGesture=this.determineHandGesture.bind(this),this.determineFingerGesture=this.determineFingerGesture.bind(this),AFRAME.utils.entity.onLoad(this.el,this.onEntityLoaded,this)},addAnimationClip:function(t){this.el.object3DMap.mesh.clips[t.name]=t,this.el.object3DMap.mesh.actions[t.name]=this.handMesh.mixer.clipAction(this.el.object3DMap.mesh.clips[t.name]),Object.assign(this.el.object3DMap.mesh.actions[t.name],this.animationConfig)},onEntityLoaded:function(){-1===this.el.getAttribute("tracked-controls").controller?this.el.addEventListener("controllerconnected",this.onController,{once:!0}):this.onController()},onController:function(){var t=new THREE.GLTFLoader,e=this.data,i=this;t.load(e.model,(function(t){i.hand=t.scene,i.handMesh=t.scene.getObjectByName(`glove_${e.hand}`),i.handMesh.mixer=new THREE.AnimationMixer(i.handMesh),i.el.setObject3D("mesh",i.hand),AFRAME.utils.entity.onObject3DAdded(i.el,"mesh",i.onModelLoaded,i,t.animations)}),(function(t){e.debug&&1==e.debug&&console.log(`Model is ${t.loaded/t.total*100} % loaded`)}),(function(t){console.error(t)}))},onModelLoaded:function(t){this.el.object3DMap.mesh.clips={},this.el.object3DMap.mesh.actions={},this.animationConfig={repetitions:0,time:0,weight:0,loop:THREE.LoopRepeat,clampWhenFinished:!0},t.forEach(this.addAnimationClip),this.hasAnimations=!0,this.registerEventListeners(),this.el.setAttribute("collider",{group:"hands"}),this.collider=this.el.components.collider},on:function(t,e){this.eventHandlers[t]=e,this.eventHandlers[t]=this.eventHandlers[t].bind(this),this.el.addEventListener(t,this.eventHandlers[t])},grab:function(){},registerEventListeners:function(){var t=null;this.on("triggertouchstart",(function(){this.el.removeState("pointing"),this.setDirty()})),this.on("triggertouchend",(function(){this.el.addState("pointing"),this.setDirty()})),this.on("gripdown",(function(){(t=this.collider.getIntersections("grabbable",!0))?(this.holdingEl=t.nearestEl,this.holdingEl.setAttribute("constraint",{parent:this.el}),this.el.is("holding-something")||(this.el.addState("holding-something"),this.holdingEl.emit("grabbed",{handEl:this.el,hand:this.data.hand}),this.el.emit("grab",{holdingEl:this.holdingEl})),this.holdingEl.components.grabbable&&this.holdingEl.components.grabbable.onGrab(this)):this.el.addState("gripping"),this.setDirty()})),this.on("gripup",(function(){this.el.is("holding-something")&&(this.holdingEl.removeAttribute("constraint"),this.el.removeState("holding-something"),this.holdingEl=null),this.el.is("gripping")&&this.el.removeState("gripping"),this.setDirty()})),this.on("constraintchanged",(function(){this.el.is("holding-something")&&(this.el.removeState("holding-something"),this.holdingEl=null),this.el.is("gripping")&&this.el.removeState("gripping"),this.setDirty()}));var e=function(){this.el.removeState("thumbsup"),this.setDirty()},i=function(){this.el.addState("thumbsup"),this.setDirty()};this.on("thumbsticktouchstart",e),this.on("xbuttontouchstart",e),this.on("ybuttontouchstart",e),this.on("abuttontouchstart",e),this.on("bbuttontouchstart",e),this.on("thumbsticktouchend",i),this.on("xbuttontouchend",i),this.on("ybuttontouchend",i),this.on("abuttontouchend",i),this.on("bbuttontouchend",i)},determineFingerGesture:function(t){return"fist"!=t&&"open"!=t||(this.el.is("pointing")&&(t+="_point"),this.el.is("thumbsup")&&(t+="_thumb")),t},determineHandGesture:function(){this.el.is("gripping")?this.animateHand(this.determineFingerGesture("fist")):this.el.is("gripping")||this.animateHand(this.determineFingerGesture("open"))},deregisterEventListeners:function(){},animateHand:function(t){if(this.lastPose||(this.lastPose="open"),this.handMesh.mixer.stopAllAction(),this.lastPose==t)return this.handMesh.mixer.stopAllAction(),void this.el.object3DMap.mesh.actions[t].play();this.el.object3DMap.mesh.actions[t].time=0,this.el.object3DMap.mesh.actions[t].weight=1,this.el.object3DMap.mesh.actions[t].play(),this.el.object3DMap.mesh.actions[t].time=0,this.el.object3DMap.mesh.actions[this.lastPose].weight=0,this.el.object3DMap.mesh.actions[this.lastPose].play(),this.el.object3DMap.mesh.actions[this.lastPose].crossFadeTo(this.el.object3DMap.mesh.actions[t],.075,!1),this.lastPose=t},tick:function(t,e){this.getDirty()&&(this.dirty=null,this.determineHandGesture()),this.hasAnimations&&this.handMesh.mixer.update(e/1e3)}}),"collider-system":AFRAME.registerSystem("collider",{schema:{debug:{type:"boolean",default:!0}},init:function(){this.colliders=[],this.groups={},this.getIntersections=this.getIntersections.bind(this),this.subscribe=this.subscribe.bind(this),this.__testA=new THREE.Vector3,this.__testB=new THREE.Vector3,this.__step=0,this.__maxSteps=0,this.__distanceTest=1/0,this.__distanceNearest=1/0,this.__testedNearestEl=null},subscribe:function(t){this.colliders.push(t),this.groups[t.data.group]||(this.groups[t.data.group]=[]),this.groups[t.data.group].push(t)},unsubscribe:function(t){var e=this.colliders.indexOf(t);this.colliders.splice(e,1),this.groups[t.data.group]&&(e=this.groups[t.data.group].indexOf(t),this.groups[t.data.group].splice(e,1))},updateMembership:function(t,e,i){var u=this.groups[e].indexOf(t);-1!==u&&this.groups[e].splice(u,1),this.groups[i]||(this.groups[i]=[]),-1===(u=this.groups[i].indexOf(t))&&this.groups[i].push(t)},getIntersections:function(t,e,i){this.__maxSteps=this.groups[e].length,this.__distanceTest=1/0,this.__distanceNearest=1/0;var u=[],n=null;for(i&&1==i&&t.updateAABB(),this.__step=0;this.__step<this.__maxSteps;this.__step++)i&&1==i&&this.groups[e][this.__step].updateAABB(),1==t.AABB.intersectsBox(this.groups[e][this.__step].AABB)&&1==this.groups[e][this.__step].data.enabled&&(u.push(this.groups[e][this.__step].el),t.el.object3D.getWorldPosition(this.__testA),this.groups[e][this.__step].el.object3D.getWorldPosition(this.__testB),this.__distanceTest=this.__testA.distanceToSquared(this.__testB),this.__distanceTest<this.__distanceNearest&&(this.__distanceNearest=this.__distanceTest,n=this.groups[e][this.__step].el));return n?{intersectedEls:u,nearestEl:n}:null}}),"collider-component":AFRAME.registerComponent("collider",{schema:{interval:{type:"number",default:40},group:{type:"string",default:"all"},collidesWith:{type:"string",default:"none"},bounds:{type:"string",default:"auto",oneOf:["auto","proxy","box","mesh"]},size:{type:"vec3",default:{x:0,y:0,z:0}},static:{type:"boolean",default:!1},enabled:{type:"boolean",default:!0},autoRefresh:{type:"boolean",default:!1}},init:function(){this.AABB=new THREE.Box3,this.createAABBFromAuto=this.createAABBFromAuto.bind(this),this.createAABBFromMesh=this.createAABBFromMesh.bind(this),this.createAABBFromProxy=this.createAABBFromProxy.bind(this),this.createAABBFromBox=this.createAABBFromBox.bind(this),this.getIntersections=this.getIntersections.bind(this),this.updateIntersections=this.updateIntersections.bind(this),this.addIntersection=this.addIntersection.bind(this),this.removeIntersection=this.removeIntersection.bind(this),this.subscribe=this.subscribe.bind(this),this.clearedEls=[],this.intersectedEls=[],this.nearestEl=null,this.__distanceTest=1/0,this.__distanceNearest=1/0,this.__intersections=[],this.__intersectionsCleared=[],this.__elapsed=0},subscribe:function(){this.subscribed||(this.system.subscribe(this),this.subscribed=!0,this.el.emit("colliderready",{el:this.el,collider:this},!1))},update:function(t){if(!t.bounds||t.bounds&&t.bounds!==this.data.bounds)switch(this.data.bounds){case"box":this.createAABBFromBox();break;case"proxy":AFRAME.utils.entity.onObject3DAdded(this.el,"proxy",this.createAABBFromProxy,this);break;case"mesh":AFRAME.utils.entity.onModel(this.el,this.createAABBFromMesh,this);break;case"auto":default:AFRAME.utils.entity.onModel(this.el,this.createAABBFromAuto,this)}t.group&&t.group!==this.data.group&&this.system.updateMembership(this,t.group,this.data.group)},createAABBFromAuto:function(){this.AABB.setFromObject(this.el.object3DMap.mesh);var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;this.AABB.getSize(t),this.AABB.getCenter(e),this.el.object3D.getWorldPosition(i),e.sub(i),t.divide(this.el.object3D.scale),this.el.setAttribute("proxy",{size:t,offset:e}),this.AABB.setFromObject(this.el.object3DMap.proxy);var u=new THREE.Box3Helper(this.AABB);this.el.sceneEl.object3D.add(u),this.updateAABB=function(){this.AABB.setFromObject(this.el.object3DMap.proxy)},this.updateAABB=this.updateAABB.bind(this),this.subscribe()},createAABBFromBox:function(){var t=new THREE.Vector3;this.el.object3D.getWorldPosition(t),this.AABB.setFromCenterAndSize(t,this.data.size);var e=new THREE.Box3Helper(this.AABB);this.el.sceneEl.object3D.add(e),this.updateAABB=function(){this.el.object3D.getWorldPosition(t),this.AABB.setFromCenterAndSize(t,this.data.size)},this.updateAABB=this.updateAABB.bind(this),this.subscribe()},createAABBFromProxy:function(){this.AABB.setFromObject(this.el.object3DMap.proxy);var t=new THREE.Box3Helper(this.AABB);this.el.sceneEl.object3D.add(t),this.updateAABB=function(){this.AABB.setFromObject(this.el.object3DMap.proxy)},this.updateAABB=this.updateAABB.bind(this),this.subscribe()},createAABBFromMesh:function(){this.AABB.setFromObject(this.el.object3DMap.mesh);var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3;this.AABB.getSize(t),this.AABB.getCenter(e),this.el.object3D.getWorldPosition(i),e.sub(i),t.divide(this.el.object3D.scale);var u=new THREE.Box3Helper(this.AABB);this.el.sceneEl.object3D.add(u),this.updateAABB=function(){this.AABB.setFromObject(this.el.object3DMap.mesh)},this.updateAABB=this.updateAABB.bind(this),this.subscribe()},getIntersections:function(t,e){return this.system.getIntersections(this,t,e)},addIntersection:function(t){-1===this.intersectedEls.indexOf(t)&&(0!==this.intersectedEls.length||this.el.is("colliding")||this.el.addState("colliding"),this.intersectedEls.push(t),this.el.emit("hitstart",{el:t,intersectedEls:this.intersectedEls,nearestEl:this.nearestEl},!1),t.emit("hitstart",{el:t},!1))},removeIntersection:function(t){if(-1!==this.intersectedEls.indexOf(t)){var e=this.intersectedEls.indexOf(t);this.intersectedEls.splice(e,1),this.el.emit("hitend",{clearedEl:t,intersectedEls:this.intersectedEls},!1),t.emit("hitend",{clearedEl:t,intersectedEls:this.intersectedEls},!1)}0===this.intersectedEls.length&&this.el.is("colliding")&&this.el.removeState("colliding")},updateIntersections:function(){if(this.system.groups[this.data.collidesWith]){for(this.__distanceNearest=1/0,this.__distanceTest=0,this.__intersections.splice(0,this.__intersections.length),this.__intersectionsCleared.splice(0,this.__intersectionsCleared.length),this.__nearestEl=null,this.__step=0,this.__stepMax=this.system.groups[this.data.collidesWith].length,this.__step=0;this.__step<this.__stepMax;this.__step++)1==this.system.groups[this.data.collidesWith][this.__step].data.enabled&&(1==this.AABB.intersectsBox(this.system.groups[this.data.collidesWith][this.__step].AABB)?(this.el.object3D.getWorldPosition(this.system.__testA),this.system.groups[this.data.collidesWith][this.__step].el.object3D.getWorldPosition(this.system.__testB),this.__distanceTest=this.system.__testA.distanceToSquared(this.system.__testB),this.__distanceTest<this.__distanceNearest&&(this.__distanceNearest=this.__distanceTest,this.__nearestEl=this.system.groups[this.data.collidesWith][this.__step].el),this.__intersections.push(this.system.groups[this.data.collidesWith][this.__step].el)):this.__intersectionsCleared.push(this.system.groups[this.data.collidesWith][this.__step].el));for(this.nearestEl=this.__nearestEl,this.__stepMax=this.__intersections.length,this.__step=0;this.__step<this.__stepMax;this.__step++)this.addIntersection(this.__intersections[this.__step]);for(this.__stepMax=this.__intersectionsCleared.length,this.__step=0;this.__step<this.__stepMax;this.__step++)this.removeIntersection(this.__intersectionsCleared[this.__step])}},tick:function(t,e){this.subscribed&&0!=this.data.enabled&&(this.__elapsed=this.__elapsed+e,this.__elapsed<this.data.interval||(this.__elapsed=0,!0!==this.data.static&&this.updateAABB(),!0===this.data.autoRefresh&&this.updateIntersections()))},remove:function(){this.system.unsubscribe(this),"auto"==this.data.bounds&&this.el.object3DMap.proxy&&this.el.removeAttribute("proxy")}}),speed:AFRAME.registerComponent("speed",{dependencies:["position","rotation","scale","velocity"],schema:{type:"vec3",default:new THREE.Vector3(0,0,0)},init:function(){}}),"velocity-system":AFRAME.registerSystem("velocity",{schema:{interval:{type:"number",default:30},debug:{type:"boolean",default:!0}}}),velocity:AFRAME.registerComponent("velocity",{dependencies:["position","rotation","scale"],schema:{type:"vec3",default:new THREE.Vector3(0,0,0)},init:function(){if(this.interval=Math.ceil(1e3/this.system.data.interval),this.__elapsed=0,this.WorldPosition=new THREE.Vector3,this.WorldPositionLast=new THREE.Vector3,this.step=new THREE.Vector3,this.stepDelta=new THREE.Vector3,this.stepNext=new THREE.Vector3,1==this.system.data.debug){var t=this;this.speedometer=document.createElement("a-entity");t.el.appendChild(this.speedometer),t.speedometer.setAttribute("text",{align:"center",width:"0.25",anchor:"align",baseline:"center",wrapCount:20}),t.speedometer.updateText=function(e){e=String(e),t.speedometer.setAttribute("text",{value:e})},AFRAME.utils.entity.onModel(this.el,(function(){var t=(new THREE.Box3).setFromObject(this.el.object3DMap.mesh),e=new THREE.Vector3;t.getSize(e),this.speedometer.object3D.translateY(e.y/2+.1)}),this)}},tick:function(t,e){this.__elapsed+=e,this.__elapsed<this.interval||(this.__elapsed=0,this.el.object3D.getWorldPosition(this.WorldPosition),this.stepDelta.copy(this.WorldPosition).sub(this.WorldPositionLast),this.data.copy(this.stepDelta),this.speedometer&&this.speedometer.updateText(`x: ${this.data.x.toFixed(2)}, \ny: ${this.data.y.toFixed(2)},\nz: ${this.data.z.toFixed(2)}`),this.WorldPositionLast.copy(this.WorldPosition))}}),"collider-proxy-system":AFRAME.registerSystem("proxy",{schema:{debug:{type:"boolean",default:!0}},init:function(){this.material=new THREE.MeshBasicMaterial({wireframe:!0,color:"red",visible:this.data.debug})}}),"collider-proxy-component":AFRAME.registerComponent("proxy",{schema:{orient:{type:"vec3",default:{x:0,y:0,z:0}},offset:{type:"vec3",default:{x:0,y:0,z:0}},size:{type:"vec3",default:{x:1,y:1,z:1}}},init:function(){this.geometry=new THREE.BoxBufferGeometry(this.data.size.x,this.data.size.y,this.data.size.z),this.proxy=new THREE.Mesh(this.geometry,this.system.material),this.setRotation=this.setRotation.bind(this),this.setPosition=this.setPosition.bind(this),this.setRotation(this.data.orient),this.setPosition(this.data.offset),this.proxy.visible=this.system.data.debug,this.el.setObject3D("proxy",this.proxy),this.el.object3DMap.proxy.updateWorldMatrix(!0,!0),this.el.object3DMap.proxy.updateMatrixWorld(!0)},setPosition:function(t){this.proxy.position.set(t.x,t.y,t.z)},setRotation:function(t){this.proxy.rotation.set(THREE.Math.degToRad(t.x),THREE.Math.degToRad(t.y),THREE.Math.degToRad(t.z))},remove:function(){this.el.object3DMap.proxy&&this.el.removeObject3D("proxy")},update:function(t){if(t.size){if(0==AFRAME.utils.deepEqual(t.size,this.data.size))return this.remove(),void this.init();this.setRotation(this.data.orient),this.setPosition(this.data.offset)}}}),constraint:AFRAME.registerComponent("constraint",{schema:{parent:{type:"selector"}},init:function(){this.originalParent=this.el.object3D.parent},update:function(t){this.data.parent.object3DMap.constraint||this.data.parent.setObject3D("constraint",new THREE.Group),this.data.parent.object3DMap.constraint.attach(this.el.object3D),this.el.addState(this.data.parent),t.parent&&t.parent!==this.data.parent&&(this.el.emit("constraintchanged",{parent:this.data.parent,el:this.el},!0),t.parent.emit("constraintchanged",{parent:this.data.parent,el:this.el},!0)),t.parent||(this.el.emit("constraintadded",{parent:this.data.parent,el:this.el},!0),this.data.parent.emit("constraintadded",{parent:this.data.parent,el:this.el},!0))},remove:function(){this.originalParent.attach(this.el.object3D),this.el.removeState("constrained"),this.el.emit("constraintremoved",{parent:this.data.parent,el:this.el},!1),this.data.parent.emit("constraintremoved",{parent:this.data.parent,el:this.el},!1)}}),grabbable:AFRAME.registerComponent("grabbable",{schema:{},init:function(){this.onColliderReady=this.onColliderReady.bind(this),this.onGrab=this.onGrab.bind(this),this.el.components.collider&&this.el.components.collider.subscribed?this.onColliderReady():this.el.addEventListener("colliderready",this.onColliderReady,{once:!0})},onColliderReady:function(){this.originalColliderProperties=AFRAME.utils.entity.getComponentProperty(this.el,"collider"),console.log(this.originalColliderProperties)},onGrab:function(t){},update:function(){},remove:function(){}})}}]);